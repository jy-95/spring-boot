<!DOCTYPE html>
<html xmlns:th="thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Ajax1</title>
	<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
	<script>
	/*
		$.ajax({
			url: 'http://localhost.9996/web6/api', 	// 요청 URL
			type: 'POST', 		// 전송 방식(GET, POST, DELETE)등
			data: JSON.strinfly({id: 1}), 			// 전송 데이터
			contentType: 'applicaion/json, '		//서버로 전송할 데이터 형식
				기본값 : (application/x-window)
			dataType: 'json', 
				기본값 : (undefined/), 서버의 응답 헤더를 통해서 파싱 방식 결정
			headers: {'헤더명' : '값'}, //추가 해더
			success: function(data){	//요청이 성공적으로 응답되었을 경우
				console.log(data);	// 서버에서 응답한 본문 데이터(Text, JSON)
			},
			error: function(e){ 	// 요청 중 오류가 있을 경우
				console.log(e)		// 서버에서 응답한 예외 객체
			},
			complete: function(){	// 요청이 완료되었을 때
				console.log('요청 성공 실패 여부와 상관없이 출력');
			}
			
		})
	*/
		$(document).ready(function(){
			$('#btn1').click(test1);
			$('#btn2').click(test2);
			$('#btn3').click(test3);
		});
	
		function test1(){
			alert('test1() 함수 실행');
			
			$.ajax({
				url: 'ajaxTest1',		// 서버의 요청 경로
				type: 'get',			// 전송 방식
				success: function(){		// 요청이 성공적으로 완료되었을 때 호출되는 함수
					alert('실행 성공!');
				},
				error: function(e){		// 요청이 실패했을 때
					alert('실행 실패..');
					alert(e.statusText);
				},
				complete: function(){	// 성공 여부 상관없이 실행
					alert('완료');
				}
			});
		}
		
		function test2(){
			$.ajax({
				url: 'ajaxTest2',
				type: 'post',
				data: { str: '클라이언트에서 보냄' },		// 서버에 전송할 데이터
				success: function(){
					alert('실행 성공!');
				},
				error: function(){
					alert('실행 실패..');
				}
			});
		}
		
		function test3(){
			$.ajax({
				url: 'ajaxTest3',
				type: 'get',
				datatype: 'text',		// 서버로부터 받을 응답 데이터 형식
							// text, json, html, xml 등등 받을 데이터 타입을 적을 수 있음
				success: function(msg){
					alert(msg);
				},
				error: function(e){
					alert('실행 실패..');
				}
			});
		}
	</script>
</head>
<body>
	<h1>[ Ajax 테스트 ]</h1>
	
	<section>
		<p>
			<button id="btn1">서버로 Ajax 요청 보내기</button>
			<button id="btn2">서버로 문자열 보내기</button>
			<button id="btn3">서버에서 문자열 받기</button>
		</p>
	</section>
</body>
</html>