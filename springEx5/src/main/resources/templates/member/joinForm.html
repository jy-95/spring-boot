<!DOCTYPE html>
<html xmlns:th="thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>회원가입</title>
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<script>
		window.onload = function(){
			document.querySelector('#joinForm')
					.addEventListener('submit', validation);
			document.querySelector('#openButton')
					.addEventListener('click', idWindowOpen);
			document.querySelector('#memberId')
					.addEventListener('click', idWindowOpen);
		}
		
		// 유효성 검사
		function validation(e) {
			let id = document.querySelector('#memberId').value;
			let pw = document.querySelector('#memberPassword').value;
			let pw2 = document.querySelector('#memberPassword2').value;
			let name = document.querySelector('#memberName').value;
			
			if (id.length < 3 || id.length > 10){
				alert('ID는 3~10자로 입력하세요.');
				e.preventDefault();
				return;
			}
			if (pw.length < 3 || pw.length > 10){
				alert('비밀번호는 3~10자로 입력하세요.');
				e.preventDafault();
				return;
			}
			if (pw != pw2){
				alert('비밀번호를 정확하게 입력하세요.');
				e.preventDefault();
				return;
			}
			if (!name) {
				alert('이름을 입력하세요.');
				e.preventDefault();
				return;
			}
		}
		
		// ID 중복 확인창 열기
		function idWindowOpen(){
			// 팝업창 (열고자 하는 페이지의 URL, 새 창의 이름, 새 창의 위치 및 크기)
			let w = window.open('idCheck', 'idwin', 'top=200,left=600,width=600,height=500');
		}
	</script>
</head>
<body>

	<header>
		<h1>[ 회원가입 ]</h1>
	</header>

	<section>
		<form id="joinForm" th:action="@{/member/join}" method="post">
			<table>
				<tr>
					<th>ID</th>
					<td>
						<input type="text" name="memberId" id="memberId" maxlength="10" placeholder="ID중복확인 이용" readonly="readonly">
						<input type="button" id="openButton" value="ID중복확인">
					</td>
				</tr>
				<tr>
				 <th>비밀번호</th>
				 <td>
				 	<input type="password" name="memberPassword" id="memberPassword" placeholder="비밀번호 입력">
				 	<br>
				 	<input type="password" id="memberPassword2" placeholder="비밀번호 다시 입력">
				 </td>
				</tr>
				<tr>
				 <th>이름</th>
				 <td>
				   <input type="text" name="memberName" id="memberName" placeholder="이름 입력">
				 </td>
				</tr>
				<tr>
					<th>이메일</th>
					<td>
						<input type="text" name="email" placeholder="이메일 입력">
					</td>
				</tr>
				<tr>
					<th>전화번호</th>
					<td>
						<input type="tel" name="phone" placeholder="전화번호 입력">
					</td>
				</tr>
				<tr>
					<th>주소</th>
					<td>
						<input type="text" name="address" placeholder="주소 입력" style="width: 300px;">
					</td>
				</tr>		
			</table>
			<br>
			<button type="submit">가입</button>
			<button type="reset">다시쓰기</button>
		</form>
	</section>
</body>
</html>